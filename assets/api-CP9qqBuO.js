const s="https://v2.api.noroff.dev/holidaze",p="606ada3d-e327-4dce-9000-3fe046f7fa64";function n(){return{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"X-Noroff-API-Key":p,"Content-Type":"application/json"}}async function k(){try{const e=await fetch(`${s}/venues`);if(!e.ok)throw new Error(`Error ${e.status}: ${e.statusText}`);return(await e.json()).data||[]}catch(e){return console.error("Failed to fetch venues:",e.message),[]}}async function E(e){const o=await fetch(`${s}/venues`,{method:"POST",headers:n(),body:JSON.stringify(e)});if(!o.ok)throw new Error("Failed to create venue");return o.json()}async function v(e,o){const t=await fetch(`${s}/venues/${e}`,{method:"PUT",headers:n(),body:JSON.stringify(o)});if(!t.ok){const r=await t.json(),a=new Error("Failed to update venue");throw a.details=r,a}return t.json()}async function $(e){const o=await fetch(`${s}/venues/${e}`,{method:"DELETE",headers:n()});if(!o.ok)throw new Error("Failed to delete venue");return o.json()}async function j(e,o){const t=await fetch(`${s}/profiles/${e}`,{method:"PUT",headers:n(),body:JSON.stringify(o)});if(!t.ok)throw new Error("Failed to update profile");return t.json()}function b(e,o=""){const t=o.toLowerCase();return e.filter(r=>{var i,c,d,u,f,h,l;const a=((i=r.name)==null?void 0:i.toLowerCase())||"",w=((d=(c=r.location)==null?void 0:c.city)==null?void 0:d.toLowerCase())||"",y=((f=(u=r.location)==null?void 0:u.country)==null?void 0:f.toLowerCase())||"",g=((l=(h=r.location)==null?void 0:h.address)==null?void 0:l.toLowerCase())||"";return a.includes(t)||w.includes(t)||y.includes(t)||g.includes(t)})}async function m(e){const o=await fetch(`https://v2.api.noroff.dev/holidaze/profiles/${e}?_bookings=true`,{headers:n()});if(!o.ok)throw new Error("Failed to fetch bookings");return(await o.json()).data.bookings||[]}async function F(e){const o=await fetch(`https://v2.api.noroff.dev/holidaze/profiles/${e}/venues?_bookings=true`,{headers:n()});if(!o.ok)throw new Error("Failed to fetch managed venues");return(await o.json()).data||[]}async function L(e){if(!(await fetch(`https://v2.api.noroff.dev/holidaze/bookings/${e}`,{method:"DELETE",headers:n()})).ok)throw new Error("Failed to cancel booking")}export{n as a,m as b,E as c,L as d,F as e,b as f,k as g,$ as h,v as i,j as u};
