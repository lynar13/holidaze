import{b as o,j as t,S as j,d as v}from"./index-zMy5iA0J.js";import{V as w}from"./VenueCard-DYyOegcA.js";import"./renderStars-BhT45c-J.js";const y="https://v2.api.noroff.dev/holidaze/venues",r=9;function k(){const[i,d]=o.useState([]),[h,x]=o.useState({}),[s,p]=o.useState(1),[l,u]=o.useState(0),[b,c]=o.useState(!0),m=async()=>{c(!0);try{const e=await v.get(`${y}?limit=${r}&page=${s}`);d(e.data.data),u(e.data.meta.totalCount)}catch(e){console.error("Failed to fetch venues",e)}finally{c(!1)}};o.useEffect(()=>{m()},[s]);const n=e=>{p(e),window.scrollTo({top:0,behavior:"smooth"})};return t.jsxs("main",{className:"container mx-auto py-8 font-[Poppins] p-4",children:[t.jsx("h1",{className:"text-5xl font-bold mb-6 text-center",children:"Browse Venues"}),t.jsx("div",{className:"max-w-2xl mx-auto mb-8",children:t.jsx(j,{onFilterChange:x})}),b?t.jsx("p",{className:"text-center text-gray-400",children:"Loading venues..."}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 p-6",children:i.map((e,a)=>t.jsx(w,{venue:e,index:a,filters:h},e.id))}),t.jsxs("div",{className:"flex justify-center mt-10 flex-wrap gap-2 text-sm",children:[t.jsx("button",{onClick:()=>n(s-1),disabled:s===1,className:"px-4 py-2 rounded border disabled:opacity-50 disabled:cursor-not-allowed hover:bg-black hover:text-white cursor-pointer",children:"← Prev"}),Array.from({length:Math.ceil(l/r)},(e,a)=>a+1).filter(e=>e===1||e===Math.ceil(l/r)||Math.abs(e-s)<=1).map((e,a,g)=>{const f=a>0&&e!==g[a-1]+1;return t.jsxs("span",{className:"flex items-center",children:[f&&t.jsx("span",{className:"px-2",children:"..."}),t.jsx("button",{onClick:()=>n(e),className:`px-4 py-2 rounded border cursor-pointer hover:bg-rose-400 hover:text-white ${e===s?"bg-black text-white font-bold":"bg-white text-black"}`,children:e})]},e)}),t.jsx("button",{onClick:()=>n(s+1),disabled:s===Math.ceil(l/r),className:"px-4 py-2 rounded border disabled:opacity-50 disabled:cursor-not-allowed hover:bg-black hover:text-white cursor-pointer",children:"Next →"})]})]})}export{k as default};
